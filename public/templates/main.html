<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sprint Scheduler X</title>
    <link
      rel="icon"
      href="../icons/rocket-solid-icon.svg"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../css/styles.css" media="all" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css "
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels "></script>
  </head>
  <body class="page-bg font-sans">
    <div class="flex h-screen overflow-hidden">
      <div id="sidebar-placeholder"></div>

      <div
        id="main-content"
        class="main-content flex-1 flex flex-col overflow-hidden"
      >
        <header
          class="header-bg header-shadow flex justify-between items-center px-4 py-3"
        >
          <div class="relative flex items-center space-x-2">
            <img
              id="user-photo-for-header"
              src="../icons/circle-user-solid.svg"
              class="h-12 w-12 rounded-full user-photo"
              alt=""
            />
            <span id="user-name-for-header" class="user-name"
              >Пользователь</span
            >
          </div>

          <button
            id="theme-toggle"
            class="theme-toggle-button flex items-center gap-2"
          >
            <img
              id="theme-icon"
              src="../icons/lightbulb-solid-off.svg"
              alt="Тема"
              class="w-4 h-4"
            />
          </button>

          <div id="notification-container" class="notification-container"></div>
        </header>

        <main class="main-bg flex-1 overflow-y-auto p-6">
          <div id="sprint-placeholder"></div>
          <div id="backlog-placeholder"></div>
          <div id="create-sprint-placeholder"></div>

          <div id="history-content" class="hidden">
            <div class="max-w-6xl mx-auto">
              <h2 class="section-title">История спринтов</h2>
              <div id="history-sprint-content" class="space-y-4"></div>
            </div>
          </div>

          <div id="team-placeholder"></div>
          <div id="settings-placeholder"></div>
        </main>
      </div>
    </div>
    <script>
      fetch("/templates/sidebar.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("sidebar-placeholder").innerHTML = data;
        });

      fetch("/templates/sprint.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("sprint-placeholder").innerHTML = data;
        });

      fetch("/templates/backlog.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("backlog-placeholder").innerHTML = data;
        });

      fetch("/templates/create-sprint.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("create-sprint-placeholder").innerHTML = data;
        });

      fetch("/templates/team.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("team-placeholder").innerHTML = data;
        });

      fetch("/templates/settings.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("settings-placeholder").innerHTML = data;
        });
    </script>
    <script src="../js/util/main.js"></script>
    <script type="module" src="../js/main.js"></script>
    <script src="../../config.js"></script>
    <script type="module" src="../js/app.js"></script>
    <script type="module" src="../js/auth/logout.js"></script>
  </body>
</html>
